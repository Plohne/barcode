{"mappings":"A,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,I,E,E,S,E,E,SCIA,MAAM,EAAY,SAAS,cAAc,CAAC,aACpC,EAAgB,SAAS,cAAc,CAAC,YACxC,EAAW,SAAS,cAAc,CAAC,YACnC,EAAU,GAAU,cAAc,aAClC,EAAa,GAAU,cAAc,gBACrC,EAAa,SAAS,cAAc,CAAC,cA4C3C,SAAS,EAAW,CAAO,EACrB,GAAU,CAAA,EAAS,QAAQ,CAAG,CAAlC,EACI,GAAS,CAAA,EAAQ,MAAM,CAAG,CAA9B,EACI,GAAY,CAAA,EAAW,MAAM,CAAG,CAAC,CAArC,CACF,CAEA,SAAS,EAAU,CAAO,EACpB,IACF,EAAW,WAAW,CAAG,EACzB,EAAW,MAAM,CAAG,CAAA,EAExB,CApDoB,aAAa,OAAO,CAAC,wBAGvC,CAAA,OAAO,QAAQ,CAAC,IAAI,CAAG,gBAAvB,EAIF,AAAA,CAAA,EAAA,EAAA,kBAAiB,AAAjB,IAAqB,IAAI,CAAC,KACxB,QAAQ,GAAG,CAAC,2BACd,GAAG,KAAK,CAAC,AAAA,IACP,QAAQ,KAAK,CAAC,uBAAwB,EACxC,GAEA,GAAW,iBAAiB,SAAU,MAAO,IAC3C,EAAE,cAAc,GAEhB,IAAM,EAAW,GAAe,OAAO,OACvC,GAAK,GAGL,EAAW,CAAA,GAmCP,GACF,CAAA,EAAW,MAAM,CAAG,CAAA,CADtB,EAhCA,GAAI,CACF,IAAM,EAAS,MAAM,AAAA,EAAA,oBAAmB,CAAE,EAEtC,CAAA,EAAO,OAAO,EAAI,EAAO,UAAU,EAErC,AAAA,EAAA,oBAAmB,CAAE,EAAO,UAAU,EACtC,OAAO,QAAQ,CAAC,IAAI,CAAG,kBAEvB,EAAU,EAAO,KAAK,EAAI,4BAE9B,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,eAAgB,GAC9B,EAAU,6BACZ,QAAU,CACR,EAAW,CAAA,EACb,EACF","sources":["<anon>","src/js/login.js"],"sourcesContent":["\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequirea202\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequirea202\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n// src/js/login.js\n\nvar $ccbGL = parcelRequire(\"ccbGL\");\n\nvar $1MkCa = parcelRequire(\"1MkCa\");\nconst $27435ee7e70aa165$var$loginForm = document.getElementById(\"loginForm\");\nconst $27435ee7e70aa165$var$passwordInput = document.getElementById(\"password\");\nconst $27435ee7e70aa165$var$loginBtn = document.getElementById(\"loginBtn\");\nconst $27435ee7e70aa165$var$btnText = $27435ee7e70aa165$var$loginBtn?.querySelector(\".btn-text\");\nconst $27435ee7e70aa165$var$btnSpinner = $27435ee7e70aa165$var$loginBtn?.querySelector(\".btn-spinner\");\nconst $27435ee7e70aa165$var$loginError = document.getElementById(\"loginError\");\n// Check if already logged in\nconst $27435ee7e70aa165$var$savedFridge = localStorage.getItem(\"current_fridge_code\");\nif ($27435ee7e70aa165$var$savedFridge) // Already logged in, redirect to inventory\nwindow.location.href = \"inventory.html\";\n// Initialize Firebase\n(0, $ccbGL.initializeFirebase)().then(()=>{\n    console.log(\"Firebase ready for login\");\n}).catch((err)=>{\n    console.error(\"Firebase init error:\", err);\n});\n$27435ee7e70aa165$var$loginForm?.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const password = $27435ee7e70aa165$var$passwordInput?.value?.trim();\n    if (!password) return;\n    // Show loading state\n    $27435ee7e70aa165$var$setLoading(true);\n    $27435ee7e70aa165$var$hideError();\n    try {\n        const result = await (0, $1MkCa.findFridgeByPassword)(password);\n        if (result.success && result.fridgeCode) {\n            // Save fridge code and redirect\n            (0, $1MkCa.setCurrentFridgeCode)(result.fridgeCode);\n            window.location.href = \"inventory.html\";\n        } else $27435ee7e70aa165$var$showError(result.error || \"Feil passord. Pr\\xf8v igjen.\");\n    } catch (err) {\n        console.error(\"Login error:\", err);\n        $27435ee7e70aa165$var$showError(\"Noe gikk galt. Pr\\xf8v igjen.\");\n    } finally{\n        $27435ee7e70aa165$var$setLoading(false);\n    }\n});\nfunction $27435ee7e70aa165$var$setLoading(loading) {\n    if ($27435ee7e70aa165$var$loginBtn) $27435ee7e70aa165$var$loginBtn.disabled = loading;\n    if ($27435ee7e70aa165$var$btnText) $27435ee7e70aa165$var$btnText.hidden = loading;\n    if ($27435ee7e70aa165$var$btnSpinner) $27435ee7e70aa165$var$btnSpinner.hidden = !loading;\n}\nfunction $27435ee7e70aa165$var$showError(message) {\n    if ($27435ee7e70aa165$var$loginError) {\n        $27435ee7e70aa165$var$loginError.textContent = message;\n        $27435ee7e70aa165$var$loginError.hidden = false;\n    }\n}\nfunction $27435ee7e70aa165$var$hideError() {\n    if ($27435ee7e70aa165$var$loginError) $27435ee7e70aa165$var$loginError.hidden = true;\n}\n\n\n//# sourceMappingURL=index.d4746b38.js.map\n","// src/js/login.js\r\nimport { initializeFirebase } from './services/firebase-config.js';\r\nimport { findFridgeByPassword, setCurrentFridgeCode } from './services/fridge-service.js';\r\n\r\nconst loginForm = document.getElementById('loginForm');\r\nconst passwordInput = document.getElementById('password');\r\nconst loginBtn = document.getElementById('loginBtn');\r\nconst btnText = loginBtn?.querySelector('.btn-text');\r\nconst btnSpinner = loginBtn?.querySelector('.btn-spinner');\r\nconst loginError = document.getElementById('loginError');\r\n\r\n// Check if already logged in\r\nconst savedFridge = localStorage.getItem('current_fridge_code');\r\nif (savedFridge) {\r\n  // Already logged in, redirect to inventory\r\n  window.location.href = 'inventory.html';\r\n}\r\n\r\n// Initialize Firebase\r\ninitializeFirebase().then(() => {\r\n  console.log('Firebase ready for login');\r\n}).catch(err => {\r\n  console.error('Firebase init error:', err);\r\n});\r\n\r\nloginForm?.addEventListener('submit', async (e) => {\r\n  e.preventDefault();\r\n  \r\n  const password = passwordInput?.value?.trim();\r\n  if (!password) return;\r\n\r\n  // Show loading state\r\n  setLoading(true);\r\n  hideError();\r\n\r\n  try {\r\n    const result = await findFridgeByPassword(password);\r\n    \r\n    if (result.success && result.fridgeCode) {\r\n      // Save fridge code and redirect\r\n      setCurrentFridgeCode(result.fridgeCode);\r\n      window.location.href = 'inventory.html';\r\n    } else {\r\n      showError(result.error || 'Feil passord. Prøv igjen.');\r\n    }\r\n  } catch (err) {\r\n    console.error('Login error:', err);\r\n    showError('Noe gikk galt. Prøv igjen.');\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n});\r\n\r\nfunction setLoading(loading) {\r\n  if (loginBtn) loginBtn.disabled = loading;\r\n  if (btnText) btnText.hidden = loading;\r\n  if (btnSpinner) btnSpinner.hidden = !loading;\r\n}\r\n\r\nfunction showError(message) {\r\n  if (loginError) {\r\n    loginError.textContent = message;\r\n    loginError.hidden = false;\r\n  }\r\n}\r\n\r\nfunction hideError() {\r\n  if (loginError) {\r\n    loginError.hidden = true;\r\n  }\r\n}\r\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$ccbGL","$1MkCa","$27435ee7e70aa165$var$loginForm","document","getElementById","$27435ee7e70aa165$var$passwordInput","$27435ee7e70aa165$var$loginBtn","$27435ee7e70aa165$var$btnText","querySelector","$27435ee7e70aa165$var$btnSpinner","$27435ee7e70aa165$var$loginError","$27435ee7e70aa165$var$setLoading","loading","disabled","hidden","$27435ee7e70aa165$var$showError","message","textContent","localStorage","getItem","location","href","initializeFirebase","then","console","log","catch","error","addEventListener","e","preventDefault","password","value","trim","result","findFridgeByPassword","success","fridgeCode","setCurrentFridgeCode"],"version":3,"file":"index.d4746b38.js.map"}